{"version":3,"file":"ngx-file-droppa.mjs","sources":["../../../projects/ngx-file-droppa/src/lib/Services/FileWrapper.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileStore.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileUpload.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileParser.service.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileDropZone.ts","../../../projects/ngx-file-droppa/src/lib/Pipes/GetSize.pipe.ts","../../../projects/ngx-file-droppa/src/lib/Directives/File.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileList.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileDroppa.ts","../../../projects/ngx-file-droppa/src/lib/ngx-file-droppa.module.ts","../../../projects/ngx-file-droppa/src/public-api.ts","../../../projects/ngx-file-droppa/src/ngx-file-droppa.ts"],"sourcesContent":["import {EventEmitter} from \"@angular/core\";\nimport {FileUpload} from \"./FileUpload.service\";\n\nexport interface iFile {\n    File:File,\n    removing:boolean,\n    loading:boolean,\n    percentage:number,\n    id:string,\n    loadingSuccessful:boolean,\n    fileUploaded:any,\n    responseMessage:string,\n    uploader:FileUpload\n}\n\nexport class FileWrapper {\n    public File;\n    public loading = false;\n    public percentage = 0;\n    public removing = false;\n    public responseMessage = \"Error happened during upload\";\n    public id = Math.random().toString(36).substr(2);\n    public loadingSuccessful = true;\n    public uploader = null;\n\n    constructor(file){\n        this.File = file;\n    }\n}","import {Injectable, EventEmitter} from \"@angular/core\";\nimport {FileUpload} from \"./FileUpload.service\";\nimport {iFile} from \"./FileWrapper.service\";\nimport {FileWrapper} from \"./FileWrapper.service\";\n\n@Injectable()\nexport class FilesStore {\n    public filesUpdated = new EventEmitter(true);\n    public startAutoUploading = null;\n    public beforeAddFile:any = null;\n\n    private WSfiles:WeakSet<File> = new WeakSet();\n    private _iFiles:Array<iFile> = [];\n\n    public get files():Array<File> {\n        return this.iFiles.reduce((res, iFile:iFile)=> {\n            res.push(iFile.File);\n            return res;\n        }, []);\n    }\n\n    public get iFiles() {\n        return this._iFiles;\n    }\n\n    public set iFiles(files) {\n        this._iFiles = files;\n    }\n\n    public addFiles(files):void {\n        files = files.filter((file)=> {\n            if (!this.WSfiles.has(file)) {\n                if(typeof this.beforeAddFile === \"function\" && this.beforeAddFile(file)){\n                    this.WSfiles.add(file);\n                    return true;\n                } else if(typeof this.beforeAddFile !== \"function\") {\n                    return true;\n                }\n                return false;\n            }\n        }).map((file)=> {\n            let iFile = new FileWrapper(file);\n            this.startAutoUploading && this.startAutoUploading(iFile);\n            return iFile;\n        });\n        this.iFiles = [...this.iFiles, ...files];\n        this.filesUpdated.emit(true);\n    }\n\n    public removeFiles(iFile:iFile):void {\n        this.WSfiles.delete(iFile.File);\n        this.iFiles = this.iFiles.filter((item)=>{\n            return item.id !== iFile.id;\n        });\n        this.filesUpdated.emit(true);\n    }\n\n    public clearStore():void {\n        this.iFiles.forEach((iFile)=> {\n            this.WSfiles.delete(iFile.File);\n        });\n        this.iFiles = [];\n        this.filesUpdated.emit(true);\n    }\n}","import {Injectable, EventEmitter, Output, Input, NgZone} from \"@angular/core\";\n\n@Injectable()\nexport class FileUpload {\n    private zone = new NgZone({enableLongStackTrace: false});\n    public url = null;\n    public beforeRequest = null;\n    public beforeFileUpload = null;\n    public fileUploadedEvent = new EventEmitter(true);\n\n    uploadFiles(iFiles){\n        return Promise.all(iFiles.reduce((res, iFile) => {\n            return res.push(this.uploadFile(iFile)), res;\n        }, []))\n    }\n\n    uploadFile(iFile) {\n        if (!this.url) {\n            throw \"url to upload needs to be provided\";\n        }\n        if (iFile.loading) {\n            throw \"Already under loading\";\n        }\n        let that = this,\n            formData = new FormData();\n\n\n        const xhr = new XMLHttpRequest();\n\n        xhr.upload.onprogress = (event) => {\n            let progress = (event.loaded * 100) / event.total | 0;\n            this.zone.run(()=> {\n                iFile.percentage = progress;\n            })\n        };\n\n        const pr = new Promise((resolve, reject)=> {\n            xhr.onload = xhr.onerror = function (e) {\n                that.zone.run(()=> {\n                    if (this[\"status\"] == 200) {\n                        iFile.loading = false;\n                        iFile.loadingSuccessful = true;\n                        resolve(true);\n                    } else {\n                        iFile.loading = false;\n                        iFile.loadingSuccessful = false;\n                        reject(false);\n                    }\n                })\n            };\n        }).then((success)=>{\n            this.fileUploadedEvent.emit([success, xhr.response, iFile]);\n        }, (reason)=>{\n            this.fileUploadedEvent.emit([reason, xhr.response, iFile]);\n        });\n\n        iFile.loading = true;\n\n        xhr.open(\"POST\", this.url, true);\n\n        //Hook before request to provide user ability to add headers or something else in XHR\n        typeof this.beforeRequest === \"function\" && this.beforeRequest(xhr);\n\n        formData.append(`${iFile.File.name}`, iFile.File);\n\n        if(typeof this.beforeFileUpload === \"function\"){\n            Promise.resolve(this.beforeFileUpload(formData)).then((formData)=> {\n                formData && xhr.send(formData);\n                formData || console.warn(`beforeFileUpload didn't return formData for ${iFile.File.name} and upload was aborted`);\n            });\n        } else {\n            xhr.send(formData);\n        }\n\n        return pr;\n    }\n\n\n}     \n","import {Injectable} from \"@angular/core\";\n@Injectable()\nexport class FileParser {\n    processFilesFromInput(items) {\n        let newFiles = Object.keys(items).reduce((result, key)=> {\n            let entry,\n                item = items[key];\n\n            if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n                if (entry.isFile) {\n                    result.push(Promise.resolve(item.getAsFile()));\n                } else if (entry.isDirectory) {\n                    result.push(this.processDirectory(entry));\n                }\n            } else if (item.getAsFile != null) {\n                if ((item.kind == null) || item.kind === \"file\") {\n                    result.push(Promise.resolve(item.getAsFile()));\n                }\n            } else if (item.isFile) {\n                let pr = new Promise((resolve, reject)=> {\n                    item.file(resolve, reject);\n                });\n                result.push(pr);\n            } else if (item.isDirectory) {\n                result.push(this.processDirectory(item));\n            }\n            return result;\n        }, []);\n\n        return Promise.all(newFiles).then(this.flattenArrayOfFiles)\n    }\n\n    processDirectory(directory) {\n        let dirReader = directory.createReader(),\n            result = [];\n\n        var readEntries = () => {\n            return new Promise((resolve, reject)=> {\n                dirReader.readEntries((entries) => {\n                    let pr = [];\n\n                    if (entries.length) {\n                        for (var i = 0; i < entries.length; i++) {\n                            pr.push(this.processFilesFromInput({0: entries[i]}));\n                        }\n                    } else {\n                        resolve(null);\n                    }\n                    result.push(readEntries());\n                    Promise.all(pr).then(this.flattenArrayOfFiles).then(resolve);\n                }, (error)=> {\n                    reject(\"Error while reading folder\");\n                });\n            })\n        };\n\n        result.push(readEntries());\n        return Promise.all(result).then(this.flattenArrayOfFiles);\n    }\n\n    processInputFromDrop(e) {\n        let items = e.dataTransfer.items;\n\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n            return Promise.resolve(this.processFilesFromInput(items));\n        } else if (items && items.length && !items[0].webkitGetAsEntry) {\n            return Promise.resolve(items)\n        } else if(e.dataTransfer.files){\n            let files = [];\n            for(let i = 0, l = e.dataTransfer.files.length;i<l;i++){\n                files.push(e.dataTransfer.files[i]);\n            }\n            return Promise.resolve(files);\n        }\n    }\n\n    flattenArrayOfFiles(arrayOfPromises) {\n        return Promise.resolve(arrayOfPromises.reduce((result, file) => {\n            if (file) {\n                return [...result, ...[file]];\n            }\n        }, []));\n    }\n}\n","import {Component, ElementRef, Input, EventEmitter, Output, ViewEncapsulation} from '@angular/core';\nimport {FileParser} from \"../Services/FileParser.service\";\nimport {FilesStore} from \"../Services/FileStore.service\";\n\n@Component({\n    selector: 'fileDropZone, [fileDropZone]',\n    providers: [FileParser],\n    styles: [`\n        .file_dropZone_internal {\n            border: 3px dashed #DDD;\n            border-radius:10px;\n            padding:10px;\n            width:400px;\n            height:200px;\n            color:#CCC;\n            text-align:center;\n            display:table-cell;\n            vertical-align:middle;\n            cursor:pointer;\n        }\n    `],\n    template: `\n        <ng-content></ng-content>\n    `,\n    host: {\n        '(drop)': 'drop($event)',\n        '(dragenter)': 'dragenter($event)',\n        '(dragover)': 'dragover($event)',\n        '(dragleave)': 'dragleave($event)',\n        '(click)': 'onClick($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class FileDropZone {\n    private hiddenFileInput = null;\n    public promise = null;\n\n    constructor(private filesStore: FilesStore, private el:ElementRef, private fileParser:FileParser) {\n        this.createHiddenInput();\n    }\n\n    @Input()\n    set multiple(value: boolean) {\n      const attributeName = 'multiple';\n      if (value) {\n        this.hiddenFileInput.setAttribute(attributeName, attributeName);\n      } else {\n        this.hiddenFileInput.removeAttribute(attributeName)\n      }\n    }\n\n    /*\n     * Host Event Listeners\n     * */\n\n    onClick(e) {\n        this.hiddenFileInput && this.hiddenFileInput.click();\n    }\n\n    drop(e) {\n        e.preventDefault();\n        if (!e.dataTransfer || !e.dataTransfer.files.length) {\n            return;\n        }\n        this.promise = this.fileParser.processInputFromDrop(e)\n            .then((files)=> {\n                this.updateFilesStore([...files]);\n            });\n        this.updateStyles();\n    }\n\n    dragenter(e) {\n        e.preventDefault()\n    }\n\n    dragover(e) {\n        e.preventDefault();\n        this.updateStyles(true);\n    }\n\n    dragleave(e) {\n        e.preventDefault();\n        this.updateStyles();\n    }\n\n    /*\n     * Public methods\n     * */\n\n    OnDestroy() {\n        this.hiddenFileInput && document.body.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n    }\n\n    updateStyles(dragOver:boolean = false) {\n        //this.el.nativeElement.classList[(dragOver) ? 'add' : 'remove'](this._overCls);\n    }\n\n    updateFilesStore(files:Array<File>):void {\n        this.filesStore.addFiles(files);\n    }\n\n    createHiddenInput() {\n        this.hiddenFileInput && document.body.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = document.createElement(\"input\");\n        this.hiddenFileInput.setAttribute(\"type\", \"file\");\n        this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n        this.hiddenFileInput.style.visibility = \"hidden\";\n        this.hiddenFileInput.style.position = \"absolute\";\n        this.hiddenFileInput.style.top = \"0\";\n        this.hiddenFileInput.style.left = \"0\";\n        this.hiddenFileInput.style.height = \"0\";\n        this.hiddenFileInput.style.width = \"0\";\n        this.hiddenFileInput.className = \"_hiddenInputClassName\";\n        document.body.appendChild(this.hiddenFileInput);\n        this.hiddenFileInput.addEventListener(\"change\", (e)=> {\n            let files = [];\n            for(let i = 0, l = e.target.files.length;i<l;i++){\n                files.push(e.target.files[i]);\n            }\n            this.hiddenFileInput.value = \"\";\n            this.updateFilesStore(files);\n        });\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n/*\n * Converts bytes to MB, GB and so on \n * Takes an bytes value argument that defaults to 0.\n * Usage:\n *   value | getSize\n * Example:\n *   {{ 1024 |  getSize}}\n *   formats to: 1 MB\n */\n@Pipe({name: 'getSize'})\nexport class GetSizePipe implements PipeTransform {\n    transform(value:number):string {\n        let bytes = value || 0,\n            sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            k = 1000,\n            i = Math.floor(Math.log(bytes) / Math.log(k));\n\n        if (bytes === 0) {\n            return '0 Byte';\n        }\n\n        return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n    }\n}","import {\n    Component, Input, Output, EventEmitter\n} from '@angular/core';\nimport {NgStyle} from '@angular/common';\nimport {GetSizePipe} from '../Pipes/GetSize.pipe';\n\n@Component({\n    selector: 'fileItem',\n    styles: [`\n        .file-container {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 75px;\n            margin: 20px 10px 0 0;\n            transition: opacity 0.5s, margin 0.5s linear;\n            flex-direction: column;\n            position:relative;\n        }\n\n        .file-container.uploaded {\n            opacity: 0;\n            margin: 0;\n            height: 0;\n            overflow: hidden;\n        }\n\n        .flex-block {\n            width: 90%;\n            text-align: center;\n            font-size: 0.8em;\n            margin: 2px 0;\n        }\n\n        .file-remove {\n            cursor: pointer;\n            position: absolute;\n            left: 87%;\n            top: 8px;\n        }\n        .file-upload-error {\n            position: absolute;\n            top: 8px;\n            left:-8px;\n        }\n        .file-name {\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n\n        .file-preview {\n            background: #ccc;\n            border-radius: 2px;\n            width: inherit;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            background-size: cover;\n            color: #fff;\n        }\n\n         .file-preview-ext {\n            text-transform: uppercase;\n        }\n\n        .file-progress {\n            width: 80%;\n            display: block;\n        }\n\n\n        button {\n            margin: 0;\n        }\n\nspan {\n    position:relative;\n    z-index:1;\n    overflow:hidden;\n    list-style:none;\n    padding:0;\n    margin:0 0 0.25em;\n}\n\nspan a:link {\n    display:block;\n    border:0;\n    padding-left:28px;\n    color:#c55500;\n}\n\nspan a:hover,\nspan a:focus {\n    color:#730800;\n    background:transparent;\n}\n\nspan:before,\nspan:after,\nspan a:before,\nspan a:after {\n    content:\"\";\n    position:absolute;\n    top:50%;\n    left:0;\n}\n\nspan a:before,\nspan a:after {\n    margin:-8px 0 0;\n    background:#c55500;\n}\n\nspan a:hover:before,\nspan a:focus:before {\n    background:#730800;\n}\n\n\n.remove a:before {\n    width:16px;\n    height:16px;\n    /* css3 */\n    -webkit-border-radius:16px;\n    -moz-border-radius:16px;\n    border-radius:16px;\n}\n\n.remove a:after {\n    left:3px;\n    width:10px;\n    height:2px;\n    margin-top:-1px;\n    background:#fff;\n}\n.warning:before {\n    content:\"!\";\n    z-index:2;\n    left:8px;\n    margin-top:-8px;\n    font-size:14px;\n    font-weight:bold;\n    color:#000;\n}\n\n.warning:after {\n    z-index:1;\n    border-width:0 11px 18px;\n    border-style:solid;\n    border-color:#F8D201 transparent;\n    margin-top:-10px;\n    background:transparent;\n}\n\n.file-upload-error .tooltiptext {\n    visibility: hidden;\n    white-space:nowrap;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    padding: 5px;\n    border-radius: 6px;\n\n    /* Position the tooltip text - see examples below! */\n    position: absolute;\n    z-index: 1;\n}\n\n.file-upload-error:hover .tooltiptext {\n    visibility: visible;\n}\n\n    `],\n    template: `\n        <div *ngIf=\"file\" class=\"file-container\">\n            <div class=\"flex-block file-preview\" [ngStyle]=\"{'background-image': 'url(' + previewSrc + ')', 'height': previewHeight + 'px'}\">\n                <div *ngIf=\"ext\" class=\"flex-block file-preview-ext \">{{ext}}</div>\n                <div *ngIf=\"!previewSrc\" class=\"flex-block file-name\">{{fileName}}</div>\n                <progress [value]=\"percentage\" max=\"100\" class=\"file-progress\"></progress>\n            </div>\n            <div class=\"file-remove\">\n                <span class=\"remove\"><a href=\"#\" (click)=\"removeFileListener($event)\"></a></span>\n            </div>\n            <div *ngIf=\"!loadingSuccessful\" class=\"file-upload-error\">\n                <span class=\"warning\"></span>\n                <span *ngIf=\"responseMessage\" class=\"tooltiptext\">{{responseMessage}}</span>\n            </div>\n            <div class=\"flex-block\">{{file.size | getSize }}</div>\n        </div>\n    `\n})\n\nexport class File {\n    public ext:string = '';\n    public previewSrc:string = '';\n    public fileName:string = '';\n    //TODO: workaround - depends on strict values;\n    public previewHeight:number = 75;\n\n\n    //ngHooks\n    ngAfterContentInit() {\n        this.file && this.getFileType();\n    }\n\n    @Input() file;\n    @Input() index;\n    @Input() percentage;\n    @Input() loadingSuccessful;\n    @Input() responseMessage;\n\n    @Output() removeFile = new EventEmitter(true);\n\n\n    removeFileListener(e) {\n        e.preventDefault();\n        this.removeFile && this.removeFile.emit(true);\n    }\n\n    getFileType() {\n        let imageType = /^image\\//,\n            reader;\n\n        if (!imageType.test(this.file.type)) {\n            let ext = this.file.name.split('.').pop();\n\n            this.fileName = this.file.name;\n            this.ext = ext.length > 3\n                ? 'file'\n                : `.${ext}`;\n            return;\n        }\n\n        reader = new FileReader();\n\n        reader.addEventListener(\"load\", () => {\n            let img = new Image,\n                result = reader.result;\n\n            img.onload = () => {\n                let ratio = img.height / img.width,\n                    scaledHeight = ratio * this.previewHeight;\n\n                this.previewSrc = result;\n                this.previewHeight = (scaledHeight < this.previewHeight)\n                    ? this.previewHeight\n                    : scaledHeight;\n            };\n\n            img.src = result;\n        }, false);\n\n        if (this.file) {\n            reader.readAsDataURL(this.file);\n        }\n    }\n}\n","import {Component, Input, EventEmitter, Output, ChangeDetectionStrategy} from '@angular/core';\nimport {File} from './File';\nimport {FilesStore} from \"../Services/FileStore.service\";\nimport {FileUpload} from \"../Services/FileUpload.service\";\nimport {iFile} from \"../Services/FileWrapper.service\";\n\n@Component({\n    selector: 'fileList, [fileList]',\n    styles: [`\n        .file-list {\n            width: 430px;\n            margin-bottom: 5px;\n            display: flex;\n            flex-flow: wrap;\n            justify-content: flex-start;\n         }\n    `],\n    template: `\n        <div class=\"file-list\">\n            <fileItem *ngFor=\"let file of filesStore.iFiles\"\n                [file]=\"file.File\"\n                [percentage]=\"file.percentage\"\n                [loadingSuccessful]=\"file.loadingSuccessful\"\n                [responseMessage]=\"file.responseMessage\"\n                (removeFile)=\"removeFile(file)\">\n            </fileItem>\n        </div>\n    `\n})\n\nexport class FileList {\n    constructor(public filesStore:FilesStore){\n    }\n\n    removeFile(iFile:iFile) {\n        this.filesStore.removeFiles(iFile);\n    }\n}\n","import {Component, Input, EventEmitter, Output, ViewEncapsulation} from '@angular/core';\nimport {FileDropZone} from './FileDropZone';\nimport {FileList} from './FileList';\nimport {FilesStore} from \"../Services/FileStore.service\";\nimport {File} from \"./File\";\nimport {FileUpload} from \"../Services/FileUpload.service\";\n\n@Component({\n    selector: 'fileDroppa',\n    providers:[FilesStore, FileUpload],\n    encapsulation: ViewEncapsulation.None,\n    styles:[`\n        .file-droppa-container {\n            width: 400px;\n        }\n        .file-droppa-btns {\n         display: flex;\n          align-items: center;\n          justify-content: center;\n\n        }\n        .file-droppa-btn {\n              margin: 15px;\n              padding: 0;\n\n              overflow: hidden;\n\n              border-width: 0;\n              outline: none;\n              border-radius: 2px;\n              box-shadow: 0 1px 4px rgba(0, 0, 0, .6);\n\n              background-color: #2ecc71;\n              color: #ecf0f1;\n\n              transition: background-color .3s;\n              width: 140px;\n              text-align: center;\n              font-size: 12px;\n\n        }\n\n        .file-droppa-btn:hover{\n          background-color: #27ae60;\n        }\n\n        .file-droppa-btn span {\n          display: block;\n          padding: 12px 24px;\n        }\n\n        .file-droppa-btn.orange {\n          background-color: #e67e22;\n        }\n\n        .file-droppa-btn.orange:hover {\n          background-color: #d35400;\n        }\n\n        .file-droppa-btn.red {\n          background-color: #e74c3c;\n        }\n\n        .file-droppa-btn.red:hover{\n          background-color: #c0392b;\n        }\n        `\n    ],\n    template: `\n        <div class=\"file-droppa-container\">\n            <fileDropZone [multiple]=\"multiple\">\n                <div [innerHTML]=\"dropZoneTemplate\"></div>\n            </fileDropZone>\n            <br/>\n            <ng-content></ng-content>\n            <fileList *ngIf=\"showFilesList\"></fileList>\n            <div class=\"file-droppa-btns\" *ngIf=\"filesStore.iFiles.length\">\n              <div #uploadButtonArea (click)=\"uploadAllFiles()\">\n                <ng-content select=\"[upload-button]\"></ng-content>\n              </div>\n              <div *ngIf=\"uploadButtonArea.children.length === 0\" (click)=\"uploadAllFiles();\"\n                   [innerHTML]=\"uploadButtonTemplate\"></div>\n              <div #removeButtonArea (click)=\"removeAllFiles();\">\n                <ng-content select=\"[remove-button]\"></ng-content>\n              </div>\n              <div *ngIf=\"removeButtonArea.children.length === 0\" (click)=\"removeAllFiles();\"\n                   [innerHTML]=\"removeButtonTemplate\"></div>\n            </div>\n        </div>\n    `\n})\nexport class FileDroppa {\n    @Input() showFilesList:boolean = true;\n    @Input() autoUpload:boolean = false;\n    @Input() beforeRequest:Function = null;\n    @Input() set url(tmpUrl: string) {\n      this.fileUploadService.url = tmpUrl;\n    }\n    @Input() beforeFileUpload:Function = null;\n    @Input() beforeAddFile:Function = null;\n    @Input() dropZoneTemplate:string = `\n      <div class=\"file_dropZone_internal\">\n          Drop Files Here\n      </div>\n    `;\n    @Output() filesUpdated = new EventEmitter(true);\n    @Output() fileUploaded = new EventEmitter(true);\n    @Input() uploadButtonTemplate:string = `\n      <div class=\"file-droppa-btn orange\">\n        <span>Upload All Files</span>\n       </div>\n    `;\n    @Input() removeButtonTemplate:string = `\n      <div class=\"file-droppa-btn red\">\n        <span>Remove All Files</span>\n       </div>\n    `;\n    @Input() multiple:boolean = true;\n\n    constructor(public filesStore:FilesStore, private fileUploadService: FileUpload){\n        filesStore.filesUpdated.subscribe(()=>{\n            this.filesUpdated.emit(filesStore.files);\n        });\n        fileUploadService.fileUploadedEvent.subscribe(([success, response, iFile])=>{\n            if(success){\n                this.filesStore.removeFiles(iFile);\n            } else {\n                iFile.loadingSuccessful = false;\n                iFile.responseText = false;\n            }\n            this.fileUploaded.emit([success, response, iFile.file]);\n        });\n        filesStore.startAutoUploading = this.startAutoUploading.bind(this);\n    }\n\n    private startAutoUploading(iFile){\n        this.autoUpload && this.fileUploadService.uploadFile(iFile);\n    }\n\n    /**\n     * We got to pass Input parameters to Service instances\n     */\n    ngOnInit(){\n        this.filesStore.beforeAddFile = (typeof this.beforeAddFile===\"function\") ? this.beforeAddFile : (file) => true;\n        this.fileUploadService.beforeRequest = this.beforeRequest;\n        this.fileUploadService.beforeFileUpload = (typeof this.beforeFileUpload===\"function\") ? this.beforeFileUpload : (formData) => true;\n    }\n\n    removeAllFiles() {\n        this.filesStore.clearStore();\n    }\n\n    uploadAllFiles() {\n        this.fileUploadService.uploadFiles(this.filesStore.iFiles);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {NgModule} from \"@angular/core\";\nimport { FileDroppa as FileDroppaComponent } from \"./Directives/FileDroppa\";\nimport {File} from \"./Directives/File\";\nimport {FileDropZone} from \"./Directives/FileDropZone\";\nimport {FileList} from \"./Directives/FileList\";\nimport {GetSizePipe} from \"./Pipes/GetSize.pipe\";\n\n@NgModule({\n    imports: [\n      CommonModule,\n    ],\n    declarations: [\n      GetSizePipe,\n      FileDroppaComponent,\n      File,\n      FileDropZone,\n      FileList\n    ],\n    exports: [\n      FileDroppaComponent,\n      File,\n      FileDropZone,\n      FileList\n    ],\n})\nexport class NgxFileDroppaModule {\n\n}\n","/*\n * Public API Surface of ngx-file-droppa\n */\n\n export * from './lib/ngx-file-droppa.module';\n export * from './lib/Directives/File';\n export * from './lib/Directives/FileDroppa';\n export * from './lib/Directives/FileDropZone';\n export * from './lib/Directives/FileList';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.FilesStore","i2.FileParser","_c0","i2.FileUpload","FileDroppaComponent"],"mappings":"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"}