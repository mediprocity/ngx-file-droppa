{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-file-droppa/src/lib/Services/FileWrapper.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileStore.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileUpload.service.ts","../../../projects/ngx-file-droppa/src/lib/Services/FileParser.service.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileDropZone.ts","../../../projects/ngx-file-droppa/src/lib/Pipes/GetSize.pipe.ts","../../../projects/ngx-file-droppa/src/lib/Directives/File.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileList.ts","../../../projects/ngx-file-droppa/src/lib/Directives/FileDroppa.ts","../../../projects/ngx-file-droppa/src/lib/ngx-file-droppa.module.ts"],"names":["Object","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","FileWrapper","file","this","loading","percentage","removing","responseMessage","id","Math","random","toString","substr","loadingSuccessful","uploader","File","FilesStore","filesUpdated","EventEmitter","startAutoUploading","beforeAddFile","WSfiles","WeakSet","_iFiles","defineProperty","prototype","iFiles","reduce","res","iFile","files","addFiles","_this","filter","has","add","map","emit","removeFiles","delete","item","clearStore","forEach","factory","ɵfac","Injectable","FileUpload","zone","NgZone","enableLongStackTrace","url","beforeRequest","beforeFileUpload","fileUploadedEvent","uploadFiles","Promise","all","uploadFile","that","formData","FormData","xhr","XMLHttpRequest","upload","onprogress","event","progress","loaded","total","run","pr","resolve","reject","onload","onerror","then","success","response","reason","open","append","name","send","console","warn","FileParser","processFilesFromInput","items","newFiles","keys","result","key","entry","webkitGetAsEntry","isFile","getAsFile","isDirectory","processDirectory","kind","flattenArrayOfFiles","directory","dirReader","createReader","readEntries","entries","0","processInputFromDrop","dataTransfer","l","arrayOfPromises","FileDropZone","filesStore","el","fileParser","hiddenFileInput","promise","createHiddenInput","attributeName","setAttribute","removeAttribute","onClick","click","drop","preventDefault","updateFilesStore","updateStyles","dragenter","dragover","dragleave","OnDestroy","document","body","removeChild","dragOver","createElement","style","visibility","position","top","left","height","width","className","appendChild","addEventListener","target","i0","ɵɵdirectiveInject","ElementRef","selectors","hostBindings","rf","ctx","$event","ngContentSelectors","decls","vars","template","i0.ɵɵprojection","Component","selector","providers","styles","host","(drop)","(dragenter)","(dragover)","(dragleave)","(click)","encapsulation","ViewEncapsulation","None","multiple","Input","GetSizePipe","transform","bytes","floor","log","pow","toPrecision","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵelement","i0.ɵɵtemplate","i0.ɵɵproperty","pure","Pipe","i0.ɵɵlistener","ext","previewSrc","fileName","previewHeight","removeFile","ngAfterContentInit","getFileType","removeFileListener","reader","test","type","split","pop","FileReader","img","Image","scaledHeight","src","readAsDataURL","file_r1","inputs","index","outputs","consts","Output","FileList","FileDroppa","fileUploadService","showFilesList","autoUpload","dropZoneTemplate","fileUploaded","uploadButtonTemplate","removeButtonTemplate","subscribe","_a","_b","responseText","bind","tmpUrl","ngOnInit","removeAllFiles","uploadAllFiles","features","ɵɵProvidersFeature","NgxFileDroppaModule","imports","CommonModule","declarations","FileDroppaComponent","exports","NgModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {EventEmitter} from \"@angular/core\";\nimport {FileUpload} from \"./FileUpload.service\";\n\nexport interface iFile {\n    File:File,\n    removing:boolean,\n    loading:boolean,\n    percentage:number,\n    id:string,\n    loadingSuccessful:boolean,\n    fileUploaded:any,\n    responseMessage:string,\n    uploader:FileUpload\n}\n\nexport class FileWrapper {\n    public File;\n    public loading = false;\n    public percentage = 0;\n    public removing = false;\n    public responseMessage = \"Error happened during upload\";\n    public id = Math.random().toString(36).substr(2);\n    public loadingSuccessful = true;\n    public uploader = null;\n\n    constructor(file){\n        this.File = file;\n    }\n}","import {Injectable, EventEmitter} from \"@angular/core\";\nimport {FileUpload} from \"./FileUpload.service\";\nimport {iFile} from \"./FileWrapper.service\";\nimport {FileWrapper} from \"./FileWrapper.service\";\n\n@Injectable()\nexport class FilesStore {\n    public filesUpdated = new EventEmitter(true);\n    public startAutoUploading = null;\n    public beforeAddFile:any = null;\n\n    private WSfiles:WeakSet<File> = new WeakSet();\n    private _iFiles:Array<iFile> = [];\n\n    public get files():Array<File> {\n        return this.iFiles.reduce((res, iFile:iFile)=> {\n            res.push(iFile.File);\n            return res;\n        }, []);\n    }\n\n    public get iFiles() {\n        return this._iFiles;\n    }\n\n    public set iFiles(files) {\n        this._iFiles = files;\n    }\n\n    public addFiles(files):void {\n        files = files.filter((file)=> {\n            if (!this.WSfiles.has(file)) {\n                if(typeof this.beforeAddFile === \"function\" && this.beforeAddFile(file)){\n                    this.WSfiles.add(file);\n                    return true;\n                } else if(typeof this.beforeAddFile !== \"function\") {\n                    return true;\n                }\n                return false;\n            }\n        }).map((file)=> {\n            let iFile = new FileWrapper(file);\n            this.startAutoUploading && this.startAutoUploading(iFile);\n            return iFile;\n        });\n        this.iFiles = [...this.iFiles, ...files];\n        this.filesUpdated.emit(true);\n    }\n\n    public removeFiles(iFile:iFile):void {\n        this.WSfiles.delete(iFile.File);\n        this.iFiles = this.iFiles.filter((item)=>{\n            return item.id !== iFile.id;\n        });\n        this.filesUpdated.emit(true);\n    }\n\n    public clearStore():void {\n        this.iFiles.forEach((iFile)=> {\n            this.WSfiles.delete(iFile.File);\n        });\n        this.iFiles = [];\n        this.filesUpdated.emit(true);\n    }\n}","import {Injectable, EventEmitter, Output, Input, NgZone} from \"@angular/core\";\n\n@Injectable()\nexport class FileUpload {\n    private zone = new NgZone({enableLongStackTrace: false});\n    public url = null;\n    public beforeRequest = null;\n    public beforeFileUpload = null;\n    public fileUploadedEvent = new EventEmitter(true);\n\n    uploadFiles(iFiles){\n        return Promise.all(iFiles.reduce((res, iFile) => {\n            return res.push(this.uploadFile(iFile)), res;\n        }, []))\n    }\n\n    uploadFile(iFile) {\n        if (!this.url) {\n            throw \"url to upload needs to be provided\";\n        }\n        if (iFile.loading) {\n            throw \"Already under loading\";\n        }\n        let that = this,\n            formData = new FormData();\n\n\n        const xhr = new XMLHttpRequest();\n\n        xhr.upload.onprogress = (event) => {\n            let progress = (event.loaded * 100) / event.total | 0;\n            this.zone.run(()=> {\n                iFile.percentage = progress;\n            })\n        };\n\n        const pr = new Promise((resolve, reject)=> {\n            xhr.onload = xhr.onerror = function (e) {\n                that.zone.run(()=> {\n                    if (this[\"status\"] == 200) {\n                        iFile.loading = false;\n                        iFile.loadingSuccessful = true;\n                        resolve(true);\n                    } else {\n                        iFile.loading = false;\n                        iFile.loadingSuccessful = false;\n                        reject(false);\n                    }\n                })\n            };\n        }).then((success)=>{\n            this.fileUploadedEvent.emit([success, xhr.response, iFile]);\n        }, (reason)=>{\n            this.fileUploadedEvent.emit([reason, xhr.response, iFile]);\n        });\n\n        iFile.loading = true;\n\n        xhr.open(\"POST\", this.url, true);\n\n        //Hook before request to provide user ability to add headers or something else in XHR\n        typeof this.beforeRequest === \"function\" && this.beforeRequest(xhr);\n\n        formData.append(`${iFile.File.name}`, iFile.File);\n\n        if(typeof this.beforeFileUpload === \"function\"){\n            Promise.resolve(this.beforeFileUpload(formData)).then((formData)=> {\n                formData && xhr.send(formData);\n                formData || console.warn(`beforeFileUpload didn't return formData for ${iFile.File.name} and upload was aborted`);\n            });\n        } else {\n            xhr.send(formData);\n        }\n\n        return pr;\n    }\n\n\n}     \n","import {Injectable} from \"@angular/core\";\n@Injectable()\nexport class FileParser {\n    processFilesFromInput(items) {\n        let newFiles = Object.keys(items).reduce((result, key)=> {\n            let entry,\n                item = items[key];\n\n            if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n                if (entry.isFile) {\n                    result.push(Promise.resolve(item.getAsFile()));\n                } else if (entry.isDirectory) {\n                    result.push(this.processDirectory(entry));\n                }\n            } else if (item.getAsFile != null) {\n                if ((item.kind == null) || item.kind === \"file\") {\n                    result.push(Promise.resolve(item.getAsFile()));\n                }\n            } else if (item.isFile) {\n                let pr = new Promise((resolve, reject)=> {\n                    item.file(resolve, reject);\n                });\n                result.push(pr);\n            } else if (item.isDirectory) {\n                result.push(this.processDirectory(item));\n            }\n            return result;\n        }, []);\n\n        return Promise.all(newFiles).then(this.flattenArrayOfFiles)\n    }\n\n    processDirectory(directory) {\n        let dirReader = directory.createReader(),\n            result = [];\n\n        var readEntries = () => {\n            return new Promise((resolve, reject)=> {\n                dirReader.readEntries((entries) => {\n                    let pr = [];\n\n                    if (entries.length) {\n                        for (var i = 0; i < entries.length; i++) {\n                            pr.push(this.processFilesFromInput({0: entries[i]}));\n                        }\n                    } else {\n                        resolve(null);\n                    }\n                    result.push(readEntries());\n                    Promise.all(pr).then(this.flattenArrayOfFiles).then(resolve);\n                }, (error)=> {\n                    reject(\"Error while reading folder\");\n                });\n            })\n        };\n\n        result.push(readEntries());\n        return Promise.all(result).then(this.flattenArrayOfFiles);\n    }\n\n    processInputFromDrop(e) {\n        let items = e.dataTransfer.items;\n\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n            return Promise.resolve(this.processFilesFromInput(items));\n        } else if (items && items.length && !items[0].webkitGetAsEntry) {\n            return Promise.resolve(items)\n        } else if(e.dataTransfer.files){\n            let files = [];\n            for(let i = 0, l = e.dataTransfer.files.length;i<l;i++){\n                files.push(e.dataTransfer.files[i]);\n            }\n            return Promise.resolve(files);\n        }\n    }\n\n    flattenArrayOfFiles(arrayOfPromises) {\n        return Promise.resolve(arrayOfPromises.reduce((result, file) => {\n            if (file) {\n                return [...result, ...[file]];\n            }\n        }, []));\n    }\n}\n","import {Component, ElementRef, Input, EventEmitter, Output, ViewEncapsulation} from '@angular/core';\nimport {FileParser} from \"../Services/FileParser.service\";\nimport {FilesStore} from \"../Services/FileStore.service\";\n\n@Component({\n    selector: 'fileDropZone, [fileDropZone]',\n    providers: [FileParser],\n    styles: [`\n        .file_dropZone_internal {\n            border: 3px dashed #DDD;\n            border-radius:10px;\n            padding:10px;\n            width:400px;\n            height:200px;\n            color:#CCC;\n            text-align:center;\n            display:table-cell;\n            vertical-align:middle;\n            cursor:pointer;\n        }\n    `],\n    template: `\n        <ng-content></ng-content>\n    `,\n    host: {\n        '(drop)': 'drop($event)',\n        '(dragenter)': 'dragenter($event)',\n        '(dragover)': 'dragover($event)',\n        '(dragleave)': 'dragleave($event)',\n        '(click)': 'onClick($event)'\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class FileDropZone {\n    private hiddenFileInput = null;\n    public promise = null;\n\n    constructor(private filesStore: FilesStore, private el:ElementRef, private fileParser:FileParser) {\n        this.createHiddenInput();\n    }\n\n    @Input()\n    set multiple(value: boolean) {\n      const attributeName = 'multiple';\n      if (value) {\n        this.hiddenFileInput.setAttribute(attributeName, attributeName);\n      } else {\n        this.hiddenFileInput.removeAttribute(attributeName)\n      }\n    }\n\n    /*\n     * Host Event Listeners\n     * */\n\n    onClick(e) {\n        this.hiddenFileInput && this.hiddenFileInput.click();\n    }\n\n    drop(e) {\n        e.preventDefault();\n        if (!e.dataTransfer || !e.dataTransfer.files.length) {\n            return;\n        }\n        this.promise = this.fileParser.processInputFromDrop(e)\n            .then((files)=> {\n                this.updateFilesStore([...files]);\n            });\n        this.updateStyles();\n    }\n\n    dragenter(e) {\n        e.preventDefault()\n    }\n\n    dragover(e) {\n        e.preventDefault();\n        this.updateStyles(true);\n    }\n\n    dragleave(e) {\n        e.preventDefault();\n        this.updateStyles();\n    }\n\n    /*\n     * Public methods\n     * */\n\n    OnDestroy() {\n        this.hiddenFileInput && document.body.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n    }\n\n    updateStyles(dragOver:boolean = false) {\n        //this.el.nativeElement.classList[(dragOver) ? 'add' : 'remove'](this._overCls);\n    }\n\n    updateFilesStore(files:Array<File>):void {\n        this.filesStore.addFiles(files);\n    }\n\n    createHiddenInput() {\n        this.hiddenFileInput && document.body.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = document.createElement(\"input\");\n        this.hiddenFileInput.setAttribute(\"type\", \"file\");\n        this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n        this.hiddenFileInput.style.visibility = \"hidden\";\n        this.hiddenFileInput.style.position = \"absolute\";\n        this.hiddenFileInput.style.top = \"0\";\n        this.hiddenFileInput.style.left = \"0\";\n        this.hiddenFileInput.style.height = \"0\";\n        this.hiddenFileInput.style.width = \"0\";\n        this.hiddenFileInput.className = \"_hiddenInputClassName\";\n        document.body.appendChild(this.hiddenFileInput);\n        this.hiddenFileInput.addEventListener(\"change\", (e)=> {\n            let files = [];\n            for(let i = 0, l = e.target.files.length;i<l;i++){\n                files.push(e.target.files[i]);\n            }\n            this.hiddenFileInput.value = \"\";\n            this.updateFilesStore(files);\n        });\n    }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n/*\n * Converts bytes to MB, GB and so on \n * Takes an bytes value argument that defaults to 0.\n * Usage:\n *   value | getSize\n * Example:\n *   {{ 1024 |  getSize}}\n *   formats to: 1 MB\n */\n@Pipe({name: 'getSize'})\nexport class GetSizePipe implements PipeTransform {\n    transform(value:number):string {\n        let bytes = value || 0,\n            sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            k = 1000,\n            i = Math.floor(Math.log(bytes) / Math.log(k));\n\n        if (bytes === 0) {\n            return '0 Byte';\n        }\n\n        return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n    }\n}","import {\n    Component, Input, Output, EventEmitter\n} from '@angular/core';\nimport {NgStyle} from '@angular/common';\nimport {GetSizePipe} from '../Pipes/GetSize.pipe';\n\n@Component({\n    selector: 'fileItem',\n    styles: [`\n        .file-container {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 75px;\n            margin: 20px 10px 0 0;\n            transition: opacity 0.5s, margin 0.5s linear;\n            flex-direction: column;\n            position:relative;\n        }\n\n        .file-container.uploaded {\n            opacity: 0;\n            margin: 0;\n            height: 0;\n            overflow: hidden;\n        }\n\n        .flex-block {\n            width: 90%;\n            text-align: center;\n            font-size: 0.8em;\n            margin: 2px 0;\n        }\n\n        .file-remove {\n            cursor: pointer;\n            position: absolute;\n            left: 87%;\n            top: 8px;\n        }\n        .file-upload-error {\n            position: absolute;\n            top: 8px;\n            left:-8px;\n        }\n        .file-name {\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n\n        .file-preview {\n            background: #ccc;\n            border-radius: 2px;\n            width: inherit;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            background-size: cover;\n            color: #fff;\n        }\n\n         .file-preview-ext {\n            text-transform: uppercase;\n        }\n\n        .file-progress {\n            width: 80%;\n            display: block;\n        }\n\n\n        button {\n            margin: 0;\n        }\n\nspan {\n    position:relative;\n    z-index:1;\n    overflow:hidden;\n    list-style:none;\n    padding:0;\n    margin:0 0 0.25em;\n}\n\nspan a:link {\n    display:block;\n    border:0;\n    padding-left:28px;\n    color:#c55500;\n}\n\nspan a:hover,\nspan a:focus {\n    color:#730800;\n    background:transparent;\n}\n\nspan:before,\nspan:after,\nspan a:before,\nspan a:after {\n    content:\"\";\n    position:absolute;\n    top:50%;\n    left:0;\n}\n\nspan a:before,\nspan a:after {\n    margin:-8px 0 0;\n    background:#c55500;\n}\n\nspan a:hover:before,\nspan a:focus:before {\n    background:#730800;\n}\n\n\n.remove a:before {\n    width:16px;\n    height:16px;\n    /* css3 */\n    -webkit-border-radius:16px;\n    -moz-border-radius:16px;\n    border-radius:16px;\n}\n\n.remove a:after {\n    left:3px;\n    width:10px;\n    height:2px;\n    margin-top:-1px;\n    background:#fff;\n}\n.warning:before {\n    content:\"!\";\n    z-index:2;\n    left:8px;\n    margin-top:-8px;\n    font-size:14px;\n    font-weight:bold;\n    color:#000;\n}\n\n.warning:after {\n    z-index:1;\n    border-width:0 11px 18px;\n    border-style:solid;\n    border-color:#F8D201 transparent;\n    margin-top:-10px;\n    background:transparent;\n}\n\n.file-upload-error .tooltiptext {\n    visibility: hidden;\n    white-space:nowrap;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    padding: 5px;\n    border-radius: 6px;\n\n    /* Position the tooltip text - see examples below! */\n    position: absolute;\n    z-index: 1;\n}\n\n.file-upload-error:hover .tooltiptext {\n    visibility: visible;\n}\n\n    `],\n    template: `\n        <div *ngIf=\"file\" class=\"file-container\">\n            <div class=\"flex-block file-preview\" [ngStyle]=\"{'background-image': 'url(' + previewSrc + ')', 'height': previewHeight + 'px'}\">\n                <div *ngIf=\"ext\" class=\"flex-block file-preview-ext \">{{ext}}</div>\n                <div *ngIf=\"!previewSrc\" class=\"flex-block file-name\">{{fileName}}</div>\n                <progress [value]=\"percentage\" max=\"100\" class=\"file-progress\"></progress>\n            </div>\n            <div class=\"file-remove\">\n                <span class=\"remove\"><a href=\"#\" (click)=\"removeFileListener($event)\"></a></span>\n            </div>\n            <div *ngIf=\"!loadingSuccessful\" class=\"file-upload-error\">\n                <span class=\"warning\"></span>\n                <span *ngIf=\"responseMessage\" class=\"tooltiptext\">{{responseMessage}}</span>\n            </div>\n            <div class=\"flex-block\">{{file.size | getSize }}</div>\n        </div>\n    `\n})\n\nexport class File {\n    public ext:string = '';\n    public previewSrc:string = '';\n    public fileName:string = '';\n    //TODO: workaround - depends on strict values;\n    public previewHeight:number = 75;\n\n\n    //ngHooks\n    ngAfterContentInit() {\n        this.file && this.getFileType();\n    }\n\n    @Input() file;\n    @Input() index;\n    @Input() percentage;\n    @Input() loadingSuccessful;\n    @Input() responseMessage;\n\n    @Output() removeFile = new EventEmitter(true);\n\n\n    removeFileListener(e) {\n        e.preventDefault();\n        this.removeFile && this.removeFile.emit(true);\n    }\n\n    getFileType() {\n        let imageType = /^image\\//,\n            reader;\n\n        if (!imageType.test(this.file.type)) {\n            let ext = this.file.name.split('.').pop();\n\n            this.fileName = this.file.name;\n            this.ext = ext.length > 3\n                ? 'file'\n                : `.${ext}`;\n            return;\n        }\n\n        reader = new FileReader();\n\n        reader.addEventListener(\"load\", () => {\n            let img = new Image,\n                result = reader.result;\n\n            img.onload = () => {\n                let ratio = img.height / img.width,\n                    scaledHeight = ratio * this.previewHeight;\n\n                this.previewSrc = result;\n                this.previewHeight = (scaledHeight < this.previewHeight)\n                    ? this.previewHeight\n                    : scaledHeight;\n            };\n\n            img.src = result;\n        }, false);\n\n        if (this.file) {\n            reader.readAsDataURL(this.file);\n        }\n    }\n}\n","import {Component, Input, EventEmitter, Output, ChangeDetectionStrategy} from '@angular/core';\nimport {File} from './File';\nimport {FilesStore} from \"../Services/FileStore.service\";\nimport {FileUpload} from \"../Services/FileUpload.service\";\nimport {iFile} from \"../Services/FileWrapper.service\";\n\n@Component({\n    selector: 'fileList, [fileList]',\n    styles: [`\n        .file-list {\n            width: 430px;\n            margin-bottom: 5px;\n            display: flex;\n            flex-flow: wrap;\n            justify-content: flex-start;\n         }\n    `],\n    template: `\n        <div class=\"file-list\">\n            <fileItem *ngFor=\"let file of filesStore.iFiles\"\n                [file]=\"file.File\"\n                [percentage]=\"file.percentage\"\n                [loadingSuccessful]=\"file.loadingSuccessful\"\n                [responseMessage]=\"file.responseMessage\"\n                (removeFile)=\"removeFile(file)\">\n            </fileItem>\n        </div>\n    `\n})\n\nexport class FileList {\n    constructor(public filesStore:FilesStore){\n    }\n\n    removeFile(iFile:iFile) {\n        this.filesStore.removeFiles(iFile);\n    }\n}\n","import {Component, Input, EventEmitter, Output, ViewEncapsulation} from '@angular/core';\nimport {FileDropZone} from './FileDropZone';\nimport {FileList} from './FileList';\nimport {FilesStore} from \"../Services/FileStore.service\";\nimport {File} from \"./File\";\nimport {FileUpload} from \"../Services/FileUpload.service\";\n\n@Component({\n    selector: 'fileDroppa',\n    providers:[FilesStore, FileUpload],\n    encapsulation: ViewEncapsulation.None,\n    styles:[`\n        .file-droppa-container {\n            width: 400px;\n        }\n        .file-droppa-btns {\n         display: flex;\n          align-items: center;\n          justify-content: center;\n\n        }\n        .file-droppa-btn {\n              margin: 15px;\n              padding: 0;\n\n              overflow: hidden;\n\n              border-width: 0;\n              outline: none;\n              border-radius: 2px;\n              box-shadow: 0 1px 4px rgba(0, 0, 0, .6);\n\n              background-color: #2ecc71;\n              color: #ecf0f1;\n\n              transition: background-color .3s;\n              width: 140px;\n              text-align: center;\n              font-size: 12px;\n\n        }\n\n        .file-droppa-btn:hover{\n          background-color: #27ae60;\n        }\n\n        .file-droppa-btn span {\n          display: block;\n          padding: 12px 24px;\n        }\n\n        .file-droppa-btn.orange {\n          background-color: #e67e22;\n        }\n\n        .file-droppa-btn.orange:hover {\n          background-color: #d35400;\n        }\n\n        .file-droppa-btn.red {\n          background-color: #e74c3c;\n        }\n\n        .file-droppa-btn.red:hover{\n          background-color: #c0392b;\n        }\n        `\n    ],\n    template: `\n        <div class=\"file-droppa-container\">\n            <fileDropZone [multiple]=\"multiple\">\n                <div [innerHTML]=\"dropZoneTemplate\"></div>\n            </fileDropZone>\n            <br/>\n            <ng-content></ng-content>\n            <fileList *ngIf=\"showFilesList\"></fileList>\n            <div class=\"file-droppa-btns\" *ngIf=\"filesStore.iFiles.length\">\n              <div #uploadButtonArea (click)=\"uploadAllFiles()\">\n                <ng-content select=\"[upload-button]\"></ng-content>\n              </div>\n              <div *ngIf=\"uploadButtonArea.children.length === 0\" (click)=\"uploadAllFiles();\"\n                   [innerHTML]=\"uploadButtonTemplate\"></div>\n              <div #removeButtonArea (click)=\"removeAllFiles();\">\n                <ng-content select=\"[remove-button]\"></ng-content>\n              </div>\n              <div *ngIf=\"removeButtonArea.children.length === 0\" (click)=\"removeAllFiles();\"\n                   [innerHTML]=\"removeButtonTemplate\"></div>\n            </div>\n        </div>\n    `\n})\nexport class FileDroppa {\n    @Input() showFilesList:boolean = true;\n    @Input() autoUpload:boolean = false;\n    @Input() beforeRequest:Function = null;\n    @Input() set url(tmpUrl: string) {\n      this.fileUploadService.url = tmpUrl;\n    }\n    @Input() beforeFileUpload:Function = null;\n    @Input() beforeAddFile:Function = null;\n    @Input() dropZoneTemplate:string = `\n      <div class=\"file_dropZone_internal\">\n          Drop Files Here\n      </div>\n    `;\n    @Output() filesUpdated = new EventEmitter(true);\n    @Output() fileUploaded = new EventEmitter(true);\n    @Input() uploadButtonTemplate:string = `\n      <div class=\"file-droppa-btn orange\">\n        <span>Upload All Files</span>\n       </div>\n    `;\n    @Input() removeButtonTemplate:string = `\n      <div class=\"file-droppa-btn red\">\n        <span>Remove All Files</span>\n       </div>\n    `;\n    @Input() multiple:boolean = true;\n\n    constructor(public filesStore:FilesStore, private fileUploadService: FileUpload){\n        filesStore.filesUpdated.subscribe(()=>{\n            this.filesUpdated.emit(filesStore.files);\n        });\n        fileUploadService.fileUploadedEvent.subscribe(([success, response, iFile])=>{\n            if(success){\n                this.filesStore.removeFiles(iFile);\n            } else {\n                iFile.loadingSuccessful = false;\n                iFile.responseText = false;\n            }\n            this.fileUploaded.emit([success, response, iFile.file]);\n        });\n        filesStore.startAutoUploading = this.startAutoUploading.bind(this);\n    }\n\n    private startAutoUploading(iFile){\n        this.autoUpload && this.fileUploadService.uploadFile(iFile);\n    }\n\n    /**\n     * We got to pass Input parameters to Service instances\n     */\n    ngOnInit(){\n        this.filesStore.beforeAddFile = (typeof this.beforeAddFile===\"function\") ? this.beforeAddFile : (file) => true;\n        this.fileUploadService.beforeRequest = this.beforeRequest;\n        this.fileUploadService.beforeFileUpload = (typeof this.beforeFileUpload===\"function\") ? this.beforeFileUpload : (formData) => true;\n    }\n\n    removeAllFiles() {\n        this.filesStore.clearStore();\n    }\n\n    uploadAllFiles() {\n        this.fileUploadService.uploadFiles(this.filesStore.iFiles);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {NgModule} from \"@angular/core\";\nimport { FileDroppa as FileDroppaComponent } from \"./Directives/FileDroppa\";\nimport {File} from \"./Directives/File\";\nimport {FileDropZone} from \"./Directives/FileDropZone\";\nimport {FileList} from \"./Directives/FileList\";\nimport {GetSizePipe} from \"./Pipes/GetSize.pipe\";\n\n@NgModule({\n    imports: [\n      CommonModule,\n    ],\n    declarations: [\n      GetSizePipe,\n      FileDroppaComponent,\n      File,\n      FileDropZone,\n      FileList\n    ],\n    exports: [\n      FileDroppaComponent,\n      File,\n      FileDropZone,\n      FileList\n    ],\n})\nexport class NgxFileDroppaModule {\n\n}\n"]}